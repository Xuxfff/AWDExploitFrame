import asyncio
from config import Config

class Urls:
    urlList = []
    async def start():
        Urls.urlList = await Urls.__getUrlList()
        print("Existing URL:")
        print("= = = = = = =")
        print(Urls.urlList)

    async def __checkUrlExists(url):
        try:
            await Config.session.get(url)
            return url
        except:
            pass

    async def __getUrlList():
        url_all = ["http://192-168-1-" + str(num) +".awd.bugku.cn" for num in range(300)]
        task_checkUrl = [asyncio.create_task(Urls.__checkUrlExists(url)) for url in url_all]
        res = await asyncio.gather(*task_checkUrl)
        urls = []
        for url in res:
            if url is not None:
                urls.append(url)
        return urls
    